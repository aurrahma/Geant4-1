#!/bin/sh

#------------------------------------------------------------------------------
# sh config query script for Geant4 @geant4_VERSION@
#
# Autogenerated by CMake DO NOT EDIT
#
# $Id: geant4-config.in,v 1.3 2010-12-14 13:53:45 bmorgan Exp $
# GEANT4 Tag $Name: not supported by cvs2svn $
#
#------------------------------------------------------------------------------


#-----------------------------------------------------------------------------
# Expansion and calculation of all needed variables
#
prefix=@GEANT4_PREFIX@
exec_prefix=@GEANT4_EXEC_PREFIX@
libdir=@GEANT4_LIBDIR@
includedir=@GEANT4_INCLUDEDIR@


name="geant4"
description="Geant4 toolkit for the simulation of the passage of particles through matter"
version=@geant4_VERSION@

# 'Requires' that may affect cflags and libs.
clhep_config_exe=@CLHEP_CONFIG_EXECUTABLE@

# Have to add in all -D options for core vis libraries...
vis_cflags="-DG4VIS_USE_ASCIITREE \
            -DG4VIS_USE_DAWNFILE \
            -DG4VIS_USE_GMOCRENFILE \
            -DG4VIS_USE_HEPREPFILE \
            -DG4VIS_USE_RAYTRACER \
            -DG4VIS_USE_VRMLFILE"

vis_libs="-lG4Tree \
          -lG4FR \
          -lG4GMocren \
          -lG4visHepRep \
          -lG4RayTracer \
          -lG4VRML \
          -lG4vis_management \
          -lG4modeling"


#----------------------------------------------------------------------------
# Core setup...
#
cflags="-I${includedir} `${clhep_config_exe} --include`"

libs="-lG4interfaces \
      -lG4persistency \
      -lG4error_propagation \
      -lG4readout \
      -lG4physicslists \
      -lG4run \
      -lG4event \
      -lG4tracking \
      -lG4parmodels \
      -lG4processes \
      -lG4digits_hits \
      -lG4track \
      -lG4particles \
      -lG4geometry \
      -lG4materials \
      -lG4graphics_reps \
      -lG4intercoms \
      -lG4global"

#----------------------------------------------------------------------------
# Extra optional features that were enabled.
#
# - GDML
have_gdml="@G4_BUILTWITH_GDML@"

if test "x${have_gdml}" = "xyes" ; then
    cflags="${cflags} -I@XERCESC_INCLUDE_DIRS@"
fi


# - Qt
have_qt="@G4_BUILTWITH_QT@"

if test "x${have_qt}" = "xyes" ; then
    vis_cflags="${vis_cflags} \
                -DG4UI_USE_QT -DG4VIS_USE_OPENGLQT \
                -I@QT_QTCORE_INCLUDE_DIR@ \
                -I@QT_QTGUI_INCLUDE_DIR@ \
                -I@QT_QTOPENGL_INCLUDE_DIR@"

    vis_libs="-lG4OpenGL -lG4gl2ps ${vis_libs}"
fi


# - RayTracerX11
have_raytracerx11="@G4_BUILTWITH_RAYTRACERX11@"

if test "x${have_raytracerx11}" = "xyes" ; then
    vis_cflags="${vis_cflags} \
                -DG4VIS_USE_RAYTRACERX \
                @G4_X11_INCLUDE_STATEMENT@"
fi



#-----------------------------------------------------------------------------
# help function
#
help()
{
    cat<<EOF
Usage: geant4-config [OPTION...]
  --prefix                output installation prefix of Geant4
  --version               output version for Geant4
  --libs                  output all linker flags
  --cflags                output all preprocessor
                          and compiler flags

  --libs-without-gui      output linker flags without 
                          GUI components
  --cflags-without-gui    output preprocessor and compiler
                          flags without GUI components
                          
  --has-feature FEATURE   output yes if FEATURE is supported,
                          or no if not supported

Known Features:
  gdml[${have_gdml}], qt[${have_qt}], raytracerx11[${have_raytracerx11}]

Help options
  -?, --help              show this help message
  --usage                 display brief usage message
EOF

    exit 1
}


#------------------------------------------------------------------------------
# usage function
#
usage()
{
    cat<<EOF
Usage: geant4-config [--prefix] [--version] [--libs] [--cflags]
EOF
    exit 1
}

#------------------------------------------------------------------------------
# Process arguments
#
if test $# -eq 0 ; then
    usage
fi

while test $# -gt 0 ; do
    case "$1" in
        -*=*)
            optarg=`echo "$1" | sed 's/[-_a-zA-Z0-9]*=//'`
            ;;
        *)
            optarg=
            ;;
    esac

    case "$1" in
        --prefix)
            echo ${prefix}
            ;;

        --version)
            echo ${version}
            ;;

        --libs)
            echo "-L${libdir}" ${vis_libs} ${libs}
            ;;

        --cflags)
            echo ${vis_cflags} ${cflags}
            ;;

        --libs-without-gui)
            echo "-L${libdir}" ${libs}
            ;;

        --cflags-without-gui)
            echo ${cflags}
            ;;

        --has-feature)
            shift

            case "$1" in
                gdml)
                    echo ${have_gdml}
                    ;;
                qt)
                    echo ${have_qt}
                    ;;
                raytracerx11)
                    echo ${have_raytracerx11}
                    ;;
                *)
                    echo "no"
                    ;;
            esac
            ;;

        -?)
            help
            ;;

        --help)
            help
            ;;

        --usage)
            usage
            ;;

        *)
            usage
            ;;
    esac

    shift
done

# Finally...
exit 0
